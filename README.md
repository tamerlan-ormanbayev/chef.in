# chef.in
nfactorial incubator task


**How to run:**
Приложение создавалось на Python 3.12.3, Django версии 5.0.6, на устройстве нужен Python 3.
- Скачайте zip-файл репозитория, или клонируйте репозиторий на свой ПК.
- Открыв директорию /chef.in, создайте virtual environment, в терминале пишем команду python3 -m venv env
- Если Windows, активируем virtual environment **env\Scripts\activate**, если Unix/MacOS, то **source env/bin/activate**
- Затем, **pip install django**, и **pip install requests** - без requests библиотеки не заработает. (Или же одной командой - **pip install -r /path/to/requirements.txt**, path - заменить)
- После установки Django, погружаемся на два уровня директория ниже, пишем **cd chef.in**, затем **cd chefin** (Путь должен выглядеть как \chef.in-main\chef.in\chefin\, нужно быть в директории с файлом manage.py)
- Запускаем приложение командой **python manage.py runserver**
- Приложение запустится по стандартному адресу http://127.0.0.1:8000/.

**Процесс проектирования:**
Использовался Django/TailwindCSS/HTML/SQLite, а также Edamam Recipe Search API. Разработка шла по уровням, описанным в оригинальном таске. 
1) Сначала был построен основной веб-макет, начиная с хэдера/футера и форматирования рецептов на странице, сразу же подключился API и рецепты достаточно быстро оказались на странице.
   Дефолтное значение query для главной страницы - chicken, и рецепты все изначально отображаются с курицей. По результату поиска, paginator'ом в django создаются страницы, с помощью которых можно удобно посмотреть все результаты, всего 48 рецептов на страницу.
2) Далее, была имплементирована функция поиска рецепта по ключевому слову в хэдере приложения. Поиск также находит сразу все подходящие рецепты и делит их на страницы, с помощью простого GET запроса и передачи введенной query в функцию home().
3) В последнюю очередь из всех описанных уровней был детальный просмотр конкретного рецепта. Когда на главной странице появляются все рецепты, данные по ним также достаются сразу, все вместе. Далее, при открытии любого из рецептов доставался id конкретного рецепта - в string формате. В Edamam Recipe Search API нет прямого атрибута id, доставать его пришлось через uri рецепта, засплиттив его по символу '#', после которого и шёл id. Далее, отправлялся в функцию detail(), где уже делался API call по соответствующей ссылке. Ответом приходит JSON файл для рецепта, а из него уже и достается информация, которая по итогу отображается на странице.
4) Затем была реализована функция поделиться рецептом - по нажатию кнопки под фотографией рецепта копируется ссылка на само приложение chef.in
5) В последнюю очередь был завершен процесс регистрации и логина. База данных выполнена через Django models и SQLite. Пользователи могут зарегистрироваться, повторно войти/выйти из своего аккаунта.

**Компромиссы:**
1) Главным компромиссом оказался тот факт, что Edamam Recipe Search API не содержит сам в себе инструкций к рецептам, из-за копирайта. Потому, при детальном открытии страницы любого рецепта, инструкций по его приготовке не будет. Лишь данные о блюде - meal type, cuisine type, required ingredients, total amount of calories, с кнопкой-переходом на сайт, который содержит в себе рецепт. Была попытка собрать рецепт с оригинального сайта самостоятельно, используя библиотеку beautifulSoup, но неудачно.
2) Была идея и желание сделать bookmarks list рецептов для каждого зарегистрированного аккаунта. Пользователи могли бы помечать любимые рецепты и сохранять их в своих bookmarks. К сожалению, мне не хватило времени выполнить что-либо больше, чем просто кнопку в зарегистрированном/залогиненном аккаунте.
3) Также, хотелось добавить раздел отзывов под каждым рецептом, которые бы оставляли зарегистрированные пользователи. Вновь сказалась нехватка времени.

**Ошибки, проблемы:**
#1 - При достижении последней страницы с результатами поиска, всё ещё работает кнопка "Next page", когда не должна. Она просто переходит на следующую, пустую страницу, на которой уже совсем никаких кнопок нет, и возможность вернуться появляется только через клик по логотипу в хэдере сайта, или новому поиску. Это случилось из-за того, что индексы paginator'а в Django у меня работают не корректно, и число страниц, вне зависимости от настоящего количества результатов, всегда одинаково. 
#2 - Кнопка "Share recipe" под фотографией рецепта имеет тенденцию слазить сильно вниз, если у рецепта достаточно длинный лист ингредиентов. Не совсем был выбран правильный формат колон на странице с деталями рецепта, потому кнопка и съезжает.
